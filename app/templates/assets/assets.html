{% extends "layout.html" %}

{{ super() }}

{% block csshref%}
 <link href="/static/css/dataTables.bootstrap.min.css" rel="stylesheet" id="style_components" type="text/css" />
 <link href="/static/css/sweetalert.css" rel="stylesheet" id="style_components" type="text/css" />
{% endblock %}

{% block css %}
.error{
    color:red;
}
{% endblock %}

{% block breadcrumb %}
资产管理
{% endblock %}

{% block content %}


<div class="table-toolbar">
    <div class="btn-group pull-left">
    	<button id="addAsset" data-toggle="modal" class="btn btn-circle orange btn-outline" data-toggle="modal" data-target=".bs-example-modal-lg"> 添加资产
    	    <i class="fa fa-plus"></i>
    	</button>
    </div>
  
</div>


<div class="portlet">
    <div class="portlet-body">
            <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>主机名</th>
                        <th>内网IP</th>
                        <th>外网IP</th>
                        <th>内存</th>
                        <th>CPU核</th>
                        <th>CPU model</th>
                        <th>制造商</th>
                        <th>出厂日期</th>
                        <th>更新日期</th>
                        <th>操作</th>
                    </tr>
                </thead>
            
                <tbody>
                {% for obj in objs %}
                    <tr>
                        <td class="highlight">
                            {{ loop.index }}
                        </td>
                        <td class="hidden-xs"> {{ obj[1] }}</td>
                        <td class="hidden-xs"> {{ obj[2] }} </td>
                        <td> {{ obj[3] }} </td>
                        <td> {{ obj[4] }} </td>
                        <td> {{ obj[5] }} </td>
                        <td> {{ obj[6] }} </td>
                        <td> {{ obj[7] }} </td>
                        <td> {{ obj[8] }} </td>
                        <td> {{ obj[-1] }} </td>
                        <td>
                            {% if session['sign']['role'] == 'super_admin' %}
                                <button class="btn btn-outline btn-circle green btn-sm purple editbtn" uid={{ obj[0] }}><i class="fa fa-edit"></i> Edit</button>
                                <button class="btn btn-outline btn-circle dark btn-sm black delbtn" uid={{ obj[0] }}><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete</button>
                            {% endif %}
                            <button class="btn btn-outline btn-circle dark btn-sm black infobtn" uid={{ obj[0] }}><span class="glyphicon glyphicon-random" aria-hidden="true"></span> Info </button>
                        </td>
                    </tr>
                {% endfor %}	
                </tbody>
            </table>
        </div>
    <!--</div>-->
</div>


<!--添加资产模态窗 BEGIN-->
<div class="modal fade" id="add_asset_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">添加资产 </h4>
            </div>

            <form id="myform">
                <div class="modal-body">
                    <div class="form-group">
                    <label class="control-label">主机名
                        <span class="required" aria-required="true"> * </span>
                    </label>
                    <div>
                        <input type="text" class="form-control" id="edit_username" required>
                        <div id='checkuserinfo' style="color:red"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label">内网IP
                        <span class="required" aria-required="true"> * </span>
                    </label>
                    <div>
                        <input type="text" class="form-control" id="edit_email" required>
                         <div id='checkemailinfo' style="color:red"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label">外网IP
                    </label>
                    <div>
                        <input type="text" class="form-control" id="edit_email" >
                         <div id='checkemailinfo' style="color:red"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label">内存
                        <span class="required" aria-required="true"> * </span>
                    </label>
                    <div>
                        <input type="text" class="form-control" id="edit_email" required>
                         <div id='checkemailinfo' style="color:red"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label">制造商
                        <span class="required" aria-required="true"> * </span>
                    </label>
                    <div>
                        <input type="text" class="form-control" id="edit_email" required>
                         <div id='checkemailinfo' style="color:red"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label">出厂日期
                        <span class="required" aria-required="true"> * </span>
                    </label>
                    <div>
                        <input type="text" class="form-control" id="edit_email" required>
                         <div id='checkemailinfo' style="color:red"></div>
                    </div>
                </div>



                <div class="form-group">
                    <label class="control-label">CPU核心数
                        <span class="required" aria-required="true"> * </span>
                    </label>
                    <div>
                        <input type="text" class="form-control" id="edit_email" required>
                         <div id='checkemailinfo' style="color:red"></div>
                    </div>
                </div>


                <div class="form-group">
                    <label class="control-label">机房
                        <span class="required" aria-required="true"> * </span>
                    </label>
                    <div>
                        <select class="form-control" id='edit_role' required>
                            <option > ---请选择机房--- </option>
                            <option name='yz'> 亦庄机房 </option>
                            <option name="jxq"> 酒仙桥机房 </option>
                        </select>
                    </div>
                </div>

                 <div class="modal-footer">
                     <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                     </button>
                     <button id='btn_addsave' type="button" class="btn btn-primary">
                             提交更改
                     </button>
                     <div id='errorstatus' style="color:red"></div>
                 </div>
            </form>
            </div>
        </div>
    </div>
</div><!-- /.modal-content -->
<!--修改用户模态窗 END-->

{% endblock %}

{% block scriptsrc %}
<script src="/static/js/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="/static/js/dataTables.bootstrap.min.js" type="text/javascript"></script>
<script src="/static/js/sweetalert.js" type="text/javascript"></script>

<script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
<script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/localization/messages_zh.js"></script>
{% endblock %}

{% block script %}
$.validator.setDefaults({
    submitHandler: function() {
      alert("提交事件!");
    }
});
$().ready(function() {
    $("#myform").validate();
});


// 添加资产
$("#addAsset").on("click", function() {

    $('#add_asset_modal').modal('show')
    $("#btn_addsave").on('click', function() {
        alert(123);
    });
   

});

// 分页table
$(document).ready(function() {
    $('#example').DataTable();
} );
{% endblock %}
